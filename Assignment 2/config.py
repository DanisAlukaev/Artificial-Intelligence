from PIL import Image
import numpy as np

# input image
PATH_ORIGINAL_IMAGE = "documents/input/Mandrill.jpg"
ORIGINAL_IMAGE = np.asarray(Image.open(PATH_ORIGINAL_IMAGE), dtype=np.int32)
IMAGE_SIZE = ORIGINAL_IMAGE.shape[:2]
FILE_NAME = PATH_ORIGINAL_IMAGE.split('/')[-1][:-4]

# number of individuals in population
POPULATION_SIZE = 500
# elite group size
ELITE_SIZE = 10

# number of mutations
MUTATIONS_NUMBER = 1
# number of generations
GENERATIONS_NUMBER = 9999
# number of genes
GENES_NUMBER = 2150

# minimal font
MIN_FONT = 20
# maximal font
MAX_FONT = 100

# number of cores
CORES_NUMBER = 8

# palette is used to approximate the image using certain set of colors (if it is not specified the program will exploit
# entire color space)
# this palette cannot be generated dynamically as it will cause high memory overhead for concurrent processes
# consequently, algorithm for palette generation was developed as a separate module called pallete
# follow /modules/palette/palette.py for more details

PALETTE_MONA_LISA = [(132, 139, 88), (138, 144, 90), (131, 138, 81), (136, 141, 84), (137, 137, 82), (131, 133, 85),
                     (126, 131, 80), (131, 140, 88), (127, 134, 80), (129, 137, 88), (96, 60, 27), (75, 46, 27),
                     (60, 34, 24), (126, 85, 32), (135, 143, 92), (150, 154, 94), (101, 69, 31), (42, 22, 23),
                     (142, 151, 101), (148, 151, 99), (135, 139, 88), (146, 150, 97), (149, 153, 98), (30, 16, 25),
                     (178, 139, 63), (190, 149, 62), (127, 87, 34), (143, 151, 100), (226, 186, 95), (160, 160, 101),
                     (156, 159, 111), (153, 159, 104), (160, 162, 106), (74, 43, 28), (118, 89, 53), (26, 14, 24),
                     (175, 134, 58), (38, 19, 28), (166, 167, 110), (215, 174, 85), (200, 158, 79), (175, 174, 112),
                     (118, 134, 87), (104, 112, 70), (107, 68, 35), (157, 158, 107), (31, 18, 33), (72, 83, 58),
                     (112, 116, 74), (79, 93, 68), (146, 103, 46), (46, 24, 32), (180, 137, 64), (169, 126, 56),
                     (77, 35, 32), (211, 166, 80), (211, 167, 83), (84, 49, 29), (80, 85, 57), (37, 25, 34),
                     (60, 35, 34), (131, 90, 43), (82, 80, 55), (154, 107, 52), (45, 24, 29), (156, 114, 54),
                     (67, 80, 63), (149, 104, 49), (33, 23, 34), (75, 73, 52), (83, 84, 61), (68, 35, 33), (71, 75, 56),
                     (65, 38, 29), (75, 74, 54), (187, 142, 67), (40, 22, 29), (83, 85, 61), (91, 55, 33), (51, 27, 29),
                     (42, 36, 36), (90, 58, 35), (96, 96, 66), (60, 29, 32), (49, 25, 25), (88, 95, 73), (81, 89, 61),
                     (101, 109, 84), (112, 76, 35), (139, 104, 49), (65, 40, 33), (72, 40, 27), (181, 145, 69),
                     (156, 119, 49), (38, 24, 30), (99, 79, 42), (79, 71, 44), (66, 49, 36), (55, 32, 34),
                     (119, 74, 31), (197, 158, 70), (123, 75, 35), (212, 174, 86), (222, 184, 91), (53, 29, 30),
                     (86, 49, 27), (133, 99, 41), (83, 54, 34), (103, 72, 34), (44, 27, 35), (48, 28, 36), (94, 61, 35),
                     (198, 157, 65), (118, 74, 30), (232, 197, 103), (224, 186, 89), (235, 201, 109), (143, 107, 49)]

PALETTE_CHARLES_DARWIN = [(21, 14, 16), (24, 14, 16), (22, 15, 16), (26, 18, 18), (23, 15, 17), (25, 15, 16),
                          (27, 17, 17), (26, 16, 16), (156, 116, 103), (116, 78, 63), (148, 119, 109), (90, 57, 38),
                          (30, 18, 17), (26, 18, 19), (27, 17, 16), (23, 16, 16), (75, 53, 40), (214, 185, 180),
                          (31, 20, 21), (25, 16, 17), (29, 18, 17), (189, 149, 136), (83, 53, 38), (158, 113, 101),
                          (34, 24, 21), (58, 40, 31), (120, 78, 63), (169, 144, 140), (28, 18, 19), (26, 17, 18),
                          (28, 18, 17), (81, 50, 37), (198, 168, 161), (48, 35, 29), (31, 21, 20), (56, 32, 24),
                          (29, 19, 19), (67, 39, 33), (29, 19, 17), (30, 19, 17), (37, 21, 19), (208, 185, 178),
                          (67, 48, 37), (157, 116, 104), (30, 20, 20), (32, 22, 20), (197, 156, 151), (28, 18, 18),
                          (34, 20, 18), (61, 33, 24), (68, 39, 31), (37, 25, 22), (178, 146, 135), (64, 45, 37),
                          (28, 17, 18), (31, 19, 17), (36, 21, 19), (95, 66, 52), (202, 182, 176), (34, 24, 23),
                          (170, 143, 132), (25, 15, 17), (90, 63, 43), (19, 14, 19), (45, 34, 35), (194, 173, 164),
                          (18, 12, 16), (65, 46, 33), (82, 59, 44), (16, 11, 17), (146, 118, 106), (15, 10, 14),
                          (20, 14, 20), (120, 92, 76), (117, 90, 70), (99, 83, 101), (39, 30, 32), (14, 9, 14),
                          (182, 156, 142), (17, 12, 18), (156, 131, 122), (21, 11, 15), (15, 10, 15), (59, 41, 30),
                          (117, 92, 77), (27, 18, 21), (18, 12, 17), (120, 92, 77), (18, 12, 18), (16, 11, 16),
                          (16, 10, 15), (17, 10, 14), (18, 11, 16), (121, 98, 85), (23, 14, 19), (19, 11, 15),
                          (22, 14, 17), (19, 10, 13), (29, 18, 20), (23, 14, 15)]

PALETTE_MANDRILL = [(123, 138, 103), (98, 110, 93), (61, 60, 47), (81, 86, 70), (140, 94, 70), (82, 103, 103),
                    (76, 81, 71), (170, 125, 34), (168, 106, 31), (91, 112, 114), (127, 128, 87), (135, 190, 223),
                    (144, 188, 218), (231, 91, 58), (94, 120, 111), (108, 182, 228), (117, 189, 234), (224, 107, 102),
                    (162, 197, 224), (132, 189, 226), (151, 195, 228), (115, 190, 235), (163, 192, 217),
                    (116, 178, 224), (243, 74, 31), (106, 126, 92), (235, 85, 61), (164, 193, 221), (106, 103, 74),
                    (131, 186, 227), (156, 189, 219), (86, 101, 75), (64, 63, 48), (95, 111, 82), (145, 137, 83),
                    (128, 177, 216), (240, 69, 35), (148, 165, 198), (160, 170, 199), (109, 166, 215), (191, 154, 74),
                    (56, 61, 57), (88, 96, 68), (100, 113, 88), (134, 117, 60), (86, 116, 149), (240, 85, 65),
                    (241, 77, 52), (118, 160, 207), (105, 108, 83), (88, 93, 76), (217, 183, 77), (93, 117, 143),
                    (100, 116, 113), (122, 124, 102), (191, 101, 98), (178, 99, 93), (125, 133, 111), (220, 178, 65),
                    (220, 110, 112), (184, 147, 66), (220, 93, 79), (108, 116, 105), (123, 147, 145), (236, 92, 82),
                    (166, 149, 93), (137, 147, 149), (201, 180, 102), (130, 147, 129), (153, 160, 164), (218, 103, 90),
                    (119, 123, 102), (156, 159, 123), (160, 147, 150), (164, 147, 118), (172, 170, 166),
                    (170, 169, 130), (167, 151, 90), (119, 118, 89), (116, 131, 127), (127, 134, 132), (192, 147, 140),
                    (123, 138, 134), (200, 116, 108), (125, 113, 78), (142, 151, 132), (107, 106, 69), (156, 151, 126),
                    (190, 162, 154), (100, 101, 94), (176, 166, 130)]

# set new palette here
PALETTE = PALETTE_MANDRILL
